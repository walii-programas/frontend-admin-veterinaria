<div class="pet-hospitalized-service">

  <div class="container">

    <!-- menu -->

    <div class="pet-hospitalized-service__menu">

      <div class="row">
        <h2>Servicios de Internado</h2>
      </div>
  
      <div class="row">
        <div class="col">
          <h3>- Servicios Registrados de: <span> {{ pet.name }} </span> </h3>
          <h3>- Dueño de Mascota: <span> {{ client.firstname }} {{ client.lastname }} </span> </h3>
        </div>
      </div>
  
      <div class="row">
        <div class="col">
          <button class="btn btn-primary" (click)="switchToPetHospitalizedServicesList()">Lista de Servicios Registrados</button>
          <button class="btn btn-primary" (click)="switchToHospitalizedServiceForm()">Registrar Nuevo Servicio de Internado</button>
          <button class="btn btn-secondary" (click)="backToPets()">Volver a Mascotas</button>
        </div>
      </div>

    </div>

    <div class="spinner-border" role="status" *ngIf="spinnerStatus">
      <span class="sr-only">Cargando...</span>
    </div>

    <!-- register new pet simple service -->

    <div class="container" *ngIf="switchHospitalizedServiceFormReg">
      <h3>Registrar Nuevo Servicio de Internado</h3>
      <form class="pet-simple-service__formReg" [formGroup]="hospitalizedServiceFormReg" (ngSubmit)="registerHospitalizedService(hospitalizedServiceFormReg.value)">
        <div class="form-row">
          <div class="col">
            <label class="col-form-label">Fecha de Inicio:</label>
            <input formControlName="initial_date" type="date" class="form-control">
          </div>
          <div class="col">
            <label class="col-form-label">Fecha de Salida:</label>
            <input formControlName="final_date" type="date" class="form-control">
          </div>
          <div class="col">
            <label class="col-form-label">Costo:</label>
            <input formControlName="cost" type="number" class="form-control" placeholder="Costo">
          </div>
        </div>
        <div class="form-row">
          <div class="col">
            <textarea formControlName="diagnosis" cols="30" rows="8" class="form-control" placeholder="Diagnóstico"></textarea>
          </div>
          <div class="col">
            <textarea formControlName="description" cols="30" rows="8" class="form-control" placeholder="Descripción"></textarea>
          </div>
          <div class="col">
            <textarea formControlName="symptoms" cols="30" rows="8" class="form-control" placeholder="Síntomas"></textarea>
          </div>
          <div class="col">
            <textarea formControlName="treatment" cols="30" rows="8" class="form-control" placeholder="Tratamiento"></textarea>
          </div>
        </div>
        <button type="submit" class="btn btn-primary" [disabled]="hospitalizedServiceFormReg.invalid">Registrar Nuevo Servicio de Internado</button>
      </form>
      <button class="btn btn-secondary" (click)="switchToPetHospitalizedServicesList()">Cancelar</button>
    </div>

    <!-- simple services list -->

    <div class="pet__container row" [hidden]="!switchHospitalizedServiceList">
      <div class="col">
        <ngb-accordion [closeOthers]="true" activeIds="static-0" class="accordion">

          <ngb-panel id="static-{{i}}" *ngFor="let phc of hospitalizedServices; index as i">

            <ng-template ngbPanelTitle>
              <h3>Diagnóstico del Servicio de Internado:<span><b> {{ phc.hospitalizedService.diagnosis }} </b></span></h3>
            </ng-template>

            <ng-template ngbPanelContent>

              <h3>Datos del Servicio de Internado</h3>

              <div class="col-7">

                <div class="form-group row">
                  <label class="col col-form-label">Fecha de Creación:</label>
                  <label class="col col-form-label">{{ phc.hospitalizedService.date }}</label>
                </div>

                <div class="form-group row">
                  <label class="col col-form-label">Fecha Inicial del Internado:</label>
                  <label class="col col-form-label">{{ phc.hospitalizedService.initial_date }}</label>
                </div>

                <div class="form-group row">
                  <label class="col col-form-label">Fecha de Salida del internado:</label>
                  <label class="col col-form-label">{{ phc.hospitalizedService.final_date }}</label>
                </div>
  
                <div class="form-group row">
                  <label class="col col-form-label">Descripción:</label>
                  <label class="col col-form-label">{{ phc.hospitalizedService.description }}</label>
                </div>
  
                <div class="form-group row">
                  <label class="col col-form-label">Síntomas:</label>
                  <label class="col col-form-label">{{ phc.hospitalizedService.symptoms }}</label>
                </div>
  
                <div class="form-group row">
                  <label class="col col-form-label">Tratamiento:</label>
                  <label class="col col-form-label">{{ phc.hospitalizedService.treatment }}</label>
                </div>
  
                <div class="form-group row">
                  <label class="col col-form-label">Costo:</label>
                  <label class="col col-form-label">S/ {{ phc.hospitalizedService.cost }}</label>
                </div>

              </div>

            </ng-template>

          </ngb-panel>

        </ngb-accordion>
      </div>
    </div>

  </div>

</div>